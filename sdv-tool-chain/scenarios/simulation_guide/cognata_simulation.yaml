# Copyright (C) Microsoft Corporation.

config:
  # simulation version
  version: 0.1.0

  # The description of the simulation
  description: The simulation runs in Cognata's environment

  # The author of the simulation
  author: Microsoft

  simulation:
    # requirements to run the simulation
    environment: SimCloud
    test_plan_sku: EURONCAP
    steps:
    - "create_project"
    - "requirements"
    - "scenario_details"
    - "launch_plan"
    - "query_plan"
    start_step: create_project

  application:
    # Specify the authority and port of each application.
    cognata_simulation_proxy:
      alias: simulationproxy
      host_authority: 0.0.0.0
      port: 4343
    cognata_simulation_symphony:
      alias: simulationsymphony
      host_authority: simulationsymphony
      port: 8082
    cognata_ui_dashboard:
      alias: simulationui
      host_authority: localhost
      port: 3000
    cognata_ui_dashboard_backend:
      alias: simulationuibackend
      host_authority: localhost
      port: 5000

  virtual_environment:
    # Cognata specific configuration
    studio_url: <COGNATA_STUDIO_URL>
    username: <COGNATA_BACKEND_USERNAME>
    password: <COGNATA_BACKEND_PASSWORD>
    database_id: toolchain
    jobs_container: jobs
    users_container: users
    projects_container: projects
    jwt_secret: supersecret
    environment: DEVELOPMENT
    # Azure specific configuration
    azure_cosmos_db_primary_key: <AZURE_COSMOS_DB_PRIMARY_KEY>
    azure_cosmos_db_uri: <AZURE_COSMOS_DB_URI>

  notification:
    keyvault_name: <KEYVAULT_NAME>
    keyvault_key: <KEYVAULT_KEY>
    # The notification configuration
    # The notification will be sent to the specified email address
    email:
      sender: <some@domain.zone>
      recepients:
        - johndoe@hotmail.com
        - alice@hotmail.com

  symphony:
    # Home directory for Symphony files that are generated by the toolchain from this metamodel
    # Example:
    # toolchain_output_path: /home/toolchain-environment/toolchain-demo
    toolchain_output_path: <TOOLCHAIN_OUTPUT_PATH>
    base_url: http://simulationsymphony:8082/v1alpha2

    # See https://github.com/eclipse-symphony/symphony/pkgs/container/symphony-api
    # for the list of Symphony image versions
    version: 0.48.3

extensions:
  providers:
    - provider: local filesystem
      location: ../common/extensions/
      staging_directory: ../common/extensions/
    - provider: local filesystem
      location: ./toolchain/extension
      staging_directory: ./toolchain/extension

# 'targets' (str) - The path to the targets file. *.j2 means that it is a jinja2 template. Path is relative to the model file (this file).
#    'os.environ' will be passed as 'env' to the template.
#    'config' section from above will be passed as 'config' to the template.
#
# 'targets' (dict) - The targets dictionary (as they would be in the targets file).
targets: ./include/cognata_simulation_targets.yaml.j2
